<!doctype html>
<html lang="uz">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>NotCoin â€” Bos va Ball Yig'</title>
  <style>
    :root{
      --bg1:#071028; --bg2:#081022;
      --glass: rgba(255,255,255,0.04);
      --muted: rgba(255,255,255,0.72);
      --accent1: #ffd86f; --accent2: #ff7ab6;
    }
    *{box-sizing:border-box}
    html,body{
      margin:0;
      margin-top: 40px; /* ðŸ”½ WebApp ichida tepaga joy ochib berish */
      padding-top: 20px; /* ðŸ”½ qoâ€˜shimcha yumshoqlik */
      font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Arial;
      background: radial-gradient(900px 400px at 10% 10%, rgba(255,122,182,0.04), transparent),
                  radial-gradient(700px 300px at 90% 90%, rgba(255,216,111,0.03), transparent),
                  linear-gradient(180deg,var(--bg1),var(--bg2));
      color:#fff;display:flex;align-items:center;justify-content:center;padding:28px;}
    body{
      margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Arial;
      background: radial-gradient(900px 400px at 10% 10%, rgba(255,122,182,0.04), transparent),
                  radial-gradient(700px 300px at 90% 90%, rgba(255,216,111,0.03), transparent),
                  linear-gradient(180deg,var(--bg1),var(--bg2));
      color:#fff;display:flex;align-items:center;justify-content:center;padding:28px;
    }

    .app{
      width:100%;max-width:760px;display:grid;grid-template-columns:1fr 360px;gap:20px;align-items:start;
    }

    /* left card: big coin + stats */
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border:1px solid rgba(255,255,255,0.04);border-radius:18px;padding:22px;box-shadow:0 12px 40px rgba(2,6,23,0.6);
      backdrop-filter: blur(6px);
    }

    .top{display:flex;justify-content:space-between;align-items:center;gap:12px}
    .brand{display:flex;align-items:center;gap:12px}
    .logo{width:46px;height:46px;border-radius:12px;background:linear-gradient(90deg,var(--accent1),var(--accent2));display:flex;align-items:center;justify-content:center;box-shadow:0 8px 30px rgba(255,122,182,0.08)}
    .logo svg{width:26px;height:26px}
    h2{margin:0;font-size:18px}
    p.lead{margin:0;color:var(--muted);font-size:13px}

    /* coin button */
    .coin-wrap{display:flex;flex-direction:column;align-items:center;padding:28px 12px}
    .coin-btn{
      width:220px;height:220px;border-radius:50%;border:6px solid rgba(255,255,255,0.06);
      background: conic-gradient(from 180deg at 50% 50%, rgba(255,255,255,0.03), rgba(255,255,255,0.01)),
                  linear-gradient(180deg,#fff0 20%, rgba(255,255,255,0.02));
      position:relative;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:transform .14s ease;
      box-shadow: 0 18px 50px rgba(2,6,23,0.65), inset 0 -12px 30px rgba(0,0,0,0.45);
      overflow:visible;
    }

    .coin-core{width:160px;height:160px;border-radius:50%;display:flex;align-items:center;justify-content:center;
      background: linear-gradient(145deg,var(--accent1),var(--accent2));
      box-shadow: 0 12px 40px rgba(255,122,182,0.12), inset 0 6px 18px rgba(255,255,255,0.12);
      transform-style:preserve-3d;}

    .coin-core .value{font-weight:800;font-size:26px;color:#081024;text-shadow:0 1px 0 rgba(255,255,255,0.12)}

    .coin-btn:active{transform:translateY(4px) scale(.996)}

    /* sparkles */
    .sparkle{position:absolute;width:12px;height:12px;border-radius:3px;opacity:0;pointer-events:none}

    .stats{display:flex;gap:12px;justify-content:center;margin-top:18px}
    .stat{background:rgba(255,255,255,0.02);padding:10px 12px;border-radius:10px;font-weight:700}

    /* right column: menu & leaderboard */
    .side{display:flex;flex-direction:column;gap:14px}
    .menu{display:flex;gap:8px;align-items:center}
    .menu button{background:transparent;border:1px solid rgba(255,255,255,0.03);padding:10px 12px;border-radius:12px;color:var(--muted);cursor:pointer;font-weight:700}
    .menu button.active{background:linear-gradient(90deg,var(--accent1),var(--accent2));color:#081024;border:0}

    .panel{background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));border:1px solid rgba(255,255,255,0.03);border-radius:14px;padding:12px}
    .leaderboard{display:flex;flex-direction:column;gap:8px}
    .lb-item{display:flex;justify-content:space-between;align-items:center;padding:8px;border-radius:10px}
    .lb-item:nth-child(odd){background:linear-gradient(90deg, rgba(255,255,255,0.012), transparent)}

    .footer{font-size:13px;color:var(--muted);text-align:center;margin-top:8px}

    /* responsive */
    @media (max-width:880px){.app{grid-template-columns:1fr;max-width:520px}.coin-btn{width:180px;height:180px}.coin-core{width:120px;height:120px}}
  </style>
</head>
<body>
  <div class="app">
    <section class="card">
      <div class="top">
        <div class="brand">
          <div class="logo" aria-hidden>
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="10" fill="#fff" opacity="0.12"/><path d="M12 8.5a3.5 3.5 0 100 7 3.5 3.5 0 000-7z" fill="#081024" opacity="0.9"/></svg>
          </div>
          <div>
            <h2>NotCoin</h2>
            <p class="lead">Bos va balls â€” hozirgi rekordni yangila!</p>
          </div>
        </div>
        <div style="text-align:right;color:var(--muted)">
          <div style="font-weight:800;font-size:18px" id="miniScore">0</div>
          <div style="font-size:12px">Joriy ball</div>
        </div>
      </div>

      <div class="coin-wrap">
        <div class="coin-btn" id="coinBtn" role="button" aria-label="Bosilgan tanga">
          <div class="coin-core" id="coinCore">
            <div class="value" id="score">0</div>
          </div>
          <!-- decorative sparkles -->
          <div class="sparkle" id="s1"></div>
          <div class="sparkle" id="s2"></div>
          <div class="sparkle" id="s3"></div>
        </div>

        <div class="stats">
          <div class="stat">Eng yaxshi: <span id="best">0</span></div>
          <div class="stat">Bosish: <span id="clicks">0</span></div>
        </div>
      </div>

      <div class="footer">Telegram WebApp friendly Â· Ballar localStorage da saqlanadi</div>
    </section>

    <aside class="side">
      <div class="menu">
        <button class="active" data-tab="home">Home</button>
        <button data-tab="board">Leaderboard</button>
        <button data-tab="profile">Profile</button>
      </div>

      <div class="panel" id="boardPanel">
        <h3 style="margin:0 0 8px 0">Leaderboard</h3>
        <div class="leaderboard" id="leaderboard">
          <!-- example entries -->
          <div class="lb-item"><div>1. Asliddin</div><div>128</div></div>
          <div class="lb-item"><div>2. Zafar</div><div>96</div></div>
          <div class="lb-item"><div>3. Dilshod</div><div>72</div></div>
        </div>
      </div>

      <div class="panel" id="profilePanel" style="display:none">
        <h3 style="margin:0 0 8px 0">Profil</h3>
        <div style="color:var(--muted)">Telegram user: <span id="tgUser">â€”</span></div>
        <div style="margin-top:8px;color:var(--muted);font-size:13px">Sozlamalar va serverga saqlash uchun URL qo'shishingiz mumkin.</div>
      </div>

    </aside>
  </div>

  <script>
    (function(){
      const coinBtn = document.getElementById('coinBtn');
      const scoreEl = document.getElementById('score');
      const bestEl = document.getElementById('best');
      const clicksEl = document.getElementById('clicks');
      const miniScore = document.getElementById('miniScore');

      let score = Number(localStorage.getItem('nc_score')||0);
      let best = Number(localStorage.getItem('nc_best')||0);
      let clicks = Number(localStorage.getItem('nc_clicks')||0);
      updateUI();

      function animateSparkle(el,x,y,delay){
        el.style.left = '50%'; el.style.top = '20%';
        el.style.background = ['#ffd86f','#ff7ab6','#7be0ff'][Math.floor(Math.random()*3)];
        el.style.opacity = '1';
        el.animate([
          { transform: 'translate(-50%,-50%) scale(1)', opacity:1 },
          { transform: `translate(${x}px, ${y}px) scale(.2)`, opacity:0 }
        ],{duration:600+Math.random()*300,delay:delay,easing:'cubic-bezier(.2,.8,.2,1)'}).onfinish = ()=> el.style.opacity='0';
      }

      coinBtn.addEventListener('click', ()=>{
        score++; clicks++;
        localStorage.setItem('nc_score', String(score));
        if(score>best){ best = score; localStorage.setItem('nc_best', String(best)); }
        localStorage.setItem('nc_clicks', String(clicks));
        updateUI();

        // pop animation
        coinBtn.animate([
          { transform: 'scale(1)' }, { transform: 'scale(0.98)' }, { transform: 'scale(1)' }
        ],{duration:150});

        // sparkles
        animateSparkle(document.getElementById('s1'), -90, -120, 0);
        animateSparkle(document.getElementById('s2'), 40, -110, 60);
        animateSparkle(document.getElementById('s3'), 100, -40, 120);
      });

      function updateUI(){
        scoreEl.textContent = score;
        bestEl.textContent = best;
        clicksEl.textContent = clicks;
        miniScore.textContent = score;
      }

      // menu tabs
      document.querySelectorAll('.menu button').forEach(btn=>{
        btn.addEventListener('click', ()=>{
          document.querySelectorAll('.menu button').forEach(b=>b.classList.remove('active'));
          btn.classList.add('active');
          const tab = btn.dataset.tab;
          document.getElementById('boardPanel').style.display = tab==='board' ? 'block' : (tab==='home' ? 'block' : 'none');
          document.getElementById('profilePanel').style.display = tab==='profile' ? 'block' : 'none';
        });
      });

      // try to read Telegram WebApp user
      try{
        if(window.Telegram && Telegram.WebApp && Telegram.WebApp.initDataUnsafe){
          const u = Telegram.WebApp.initDataUnsafe.user; document.getElementById('tgUser').textContent = u.first_name || u.id;
        }
      }catch(e){}
    })();
  </script>
</body>
</html>